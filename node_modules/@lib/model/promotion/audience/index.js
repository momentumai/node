var Facebook = require('@lib/utils/facebook'),
    audience = {};

audience.list = function (token, adAccountId) {
    var url = adAccountId + '/saved_audiences?fields=name,id';

    return Facebook.get(url, token).then(function (res) {
        var dataObj = {};

        (res.data || []).forEach(function (datum) {
            dataObj[datum.id] = datum.name;
        });

        return dataObj;
    });
};

module.exports = audience;
